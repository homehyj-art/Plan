<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>📜 다중지능 탐험: 고대의 부름</title>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Cinzel:wght@700&display=swap" rel="stylesheet">
<style>
/* 변수 및 기본 스타일 */
:root {
    --brown-text: #4a3a2a;
    --gold: #c89a4b;
    --card-bg: rgba(255, 255, 255, 0.85);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: 'Gowun Dodum', serif;
    background-color: #5d4037; /* 이미지 로딩 전 배경색 */
    background-image: url('https://firebasestorage.googleapis.com/v0/b/gtemp-a8599.appspot.com/o/papyrus-1478204_1280.jpg?alt=media&token=26214300-84c4-42ea-a4b5-65476d0d216a');
    background-repeat: no-repeat;
    background-position: center center;
    background-attachment: fixed;
    background-size: cover;
    color: var(--brown-text);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    overflow-y: auto; /* 내용이 넘칠 때 스크롤 가능하도록 */
}

.wrap {
    width: 100%;
    max-width: 1200px;
}

.header {
    text-align: center;
    margin-bottom: 20px;
    animation: fadeInDown 1s ease-out;
}

.header h1 {
    font-family: 'Cinzel', serif;
    font-size: clamp(2rem, 5vw, 4rem);
    color: var(--gold);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    margin-bottom: 10px;
}

.header p {
    color: #fff;
    font-size: clamp(0.9rem, 2vw, 1.2rem);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.game-card {
    background-color: var(--card-bg);
    border-radius: 15px;
    padding: clamp(20px, 4vw, 40px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    animation: fadeIn 1s ease-in-out;
}

/* 화면 별로 다른 배경 이미지 설정 */
@media (max-width: 768px) {
    body {
        background-size: auto 100%;
    }
}

/* 게임 시작 화면 */
#start-screen {
    text-align: center;
}

.input-group {
    margin-bottom: 20px;
    text-align: left;
}

.input-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.input-group input, .input-group select {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
    color: var(--brown-text);
    background-color: #f7f7f7;
}

.input-group input:focus, .input-group select:focus {
    outline: none;
    border-color: var(--gold);
}

button {
    background-color: var(--gold);
    color: #fff;
    border: none;
    padding: 15px 30px;
    font-size: 1.1rem;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

button:hover {
    background-color: #b28842;
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
}

button:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* 게임 진행 화면 */
#game-area {
    display: none;
    text-align: center;
}

.quest-counter {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--gold);
    margin-bottom: 10px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
}

.story-text {
    min-height: 150px;
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 20px;
    background-color: #fcfcfc;
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    white-space: pre-wrap; /* 줄바꿈 유지 */
    text-align: left;
}

.choice-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* 통계 패널 */
#stats-panel {
    display: none;
    margin-top: 20px;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: 10px;
    backdrop-filter: blur(5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#stats-panel h4 {
    margin-top: 0;
    color: #4a3a2a;
    font-weight: bold;
    border-bottom: 2px solid #ddd;
    padding-bottom: 10px;
}

.stat {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.bar {
    width: 70%;
    height: 15px;
    background-color: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.bar-inner {
    height: 100%;
    background: linear-gradient(90deg, #c89a4b, #d4ae6e);
    border-radius: 10px;
    transition: width 1s ease-in-out;
}

/* 결과 화면 */
#result-area {
    display: none;
    text-align: center;
}

#result-area h3 {
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    color: var(--gold);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

#result-area p {
    font-size: 1.1rem;
    line-height: 1.6;
}

#result-area strong {
    color: var(--gold);
}

.result-image {
    max-width: 100%;
    height: auto;
    margin: 20px auto;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    border: 3px solid var(--gold);
}

/* 애니메이션 */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

</style>
</head>
<body>

<div class="wrap">
    <div class="header">
        <h1>📜 다중지능 탐험: 고대의 부름</h1>
        <p>당신의 지능 잠재력을 탐험하는 신비로운 여정</p>
    </div>

    <div class="game-card">
        <div id="start-screen">
            <h2>여정을 시작하며...</h2>
            <div class="input-group">
                <label for="playerName">이름:</label>
                <input type="text" id="playerName" placeholder="모험가의 이름">
            </div>
            <div class="input-group">
                <label for="playerClass">직업:</label>
                <select id="playerClass">
                    <option value="전사">전사</option>
                    <option value="마법사">마법사</option>
                    <option value="도적">도적</option>
                    <option value="성직자">성직자</option>
                </select>
            </div>
            <button onclick="startGame()">여정 시작하기</button>
        </div>

        <div id="game-area">
            <div class="quest-counter" id="quest-counter"></div>
            <div class="story-text" id="story-text"></div>
            <div class="choice-buttons" id="choice-buttons"></div>
        </div>
        
        <div id="result-area"></div>
    </div>
    <div id="stats-panel">
        <h4>📊 현재 능력치</h4>
        <div id="stats-container"></div>
    </div>
</div>

<script>
const el = id => document.getElementById(id);

let player = {};
let scores = {
    linguistic: 0,
    logical: 0,
    spatial: 0,
    bodily: 0,
    musical: 0,
    interpersonal: 0,
    intrapersonal: 0,
    naturalist: 0
};
let currentQuestIndex = 0;
const totalQuests = 20;

// 각 캐릭터별 퀘스트 데이터
const warriorQuests = [
    { text: "고대 유적의 무너진 석상을 복구해야 합니다. 어떤 방식으로 복구하시겠습니까?", choices: [{text: "돌덩이들을 정확한 위치에 쌓는다.", effects: {spatial: 10}}, {text: "가장 튼튼한 돌을 찾아낸다.", effects: {bodily: 10}}, {text: "석상의 기록을 해독해본다.", effects: {linguistic: 10}}, {text: "주변의 이끼를 이용해 예술적으로 꾸민다.", effects: {musical: 10}}] },
    { text: "골렘의 약점을 찾아내야 합니다. 어떻게 하시겠습니까?", choices: [{text: "골렘의 움직임 패턴을 분석한다.", effects: {logical: 10}}, {text: "골렘의 재질을 손으로 만져본다.", effects: {bodily: 10}}, {text: "골렘을 닮은 신화 속 괴물을 떠올린다.", effects: {linguistic: 10}}, {text: "골렘의 움직임을 따라하며 분석한다.", effects: {bodily: 10}}] },
    { text: "고대 부족의 지도자가 되었습니다. 부족원들의 갈등을 어떻게 해결하시겠습니까?", choices: [{text: "양쪽의 의견을 모두 듣고 조율한다.", effects: {interpersonal: 10}}, {text: "논리적인 규칙을 정해준다.", effects: {logical: 10}}, {text: "혼자만의 시간을 가지며 깊이 생각한다.", effects: {intrapersonal: 10}}, {text: "부족원들과 노래를 부르며 화합을 도모한다.", effects: {musical: 10}}] },
    { text: "신비로운 약초를 찾아야 합니다. 어디서 찾아야 할까요?", choices: [{text: "약초의 특징을 기록한 고대 문서를 읽는다.", effects: {linguistic: 10}}, {text: "지도의 지형을 분석한다.", effects: {spatial: 10}}, {text: "약초의 향기를 찾아 주변을 탐색한다.", effects: {naturalist: 10}}, {text: "약초가 가장 잘 자랄 만한 환경을 추론한다.", effects: {logical: 10}}] },
    { text: "고대 유적의 미로에 갇혔습니다. 어떻게 탈출하시겠습니까?", choices: [{text: "미로의 벽에 손을 대고 한쪽으로만 계속 간다.", effects: {bodily: 10}}, {text: "미로의 전체적인 구조를 머릿속에 그린다.", effects: {spatial: 10}}, {text: "바닥의 발자국을 분석해 다른 사람의 흔적을 쫓는다.", effects: {interpersonal: 10}}, {text: "이성적으로 판단하여 미로의 규칙을 찾는다.", effects: {logical: 10}}] },
    { text: "거대한 절벽을 올라야 합니다. 어떻게 하시겠습니까?", choices: [{text: "가장 안전하고 효율적인 경로를 계산한다.", effects: {logical: 10}}, {text: "가벼운 짐만 남기고 올라갈 준비를 한다.", effects: {bodily: 10}}, {text: "절벽의 지형을 머릿속에 기억한다.", effects: {spatial: 10}}, {text: "올라가면서 자신의 몸 상태를 점검한다.", effects: {intrapersonal: 10}}] },
    { text: "전설의 검을 찾기 위해 동굴로 들어갑니다. 동굴 속에서 울리는 소리를 어떻게 활용하시겠습니까?", choices: [{text: "소리의 진동을 따라 검의 위치를 찾는다.", effects: {musical: 10}}, {text: "소리의 근원을 논리적으로 추론한다.", effects: {logical: 10}}, {text: "동굴의 넓이를 소리로 가늠한다.", effects: {spatial: 10}}, {text: "동굴 속 생물의 울음소리를 분석한다.", effects: {naturalist: 10}}] },
    { text: "낯선 부족을 만났습니다. 그들의 환심을 사야 합니다. 어떻게 하실 건가요?", choices: [{text: "그들의 언어를 따라해본다.", effects: {linguistic: 10}}, {text: "그들에게 내면의 진심을 보여준다.", effects: {intrapersonal: 10}}, {text: "그들에게 정중하게 대화한다.", effects: {interpersonal: 10}}, {text: "그들의 춤을 따라 배워본다.", effects: {bodily: 10}}] },
    { text: "사막에서 길을 잃었습니다. 어떻게 길을 찾으시겠습니까?", choices: [{text: "별자리를 보고 방향을 가늠한다.", effects: {spatial: 10}}, {text: "모래바람의 방향을 관찰한다.", effects: {naturalist: 10}}, {text: "자신의 내면의 목소리에 집중한다.", effects: {intrapersonal: 10}}, {text: "가장 확률이 높은 경로를 계산한다.", effects: {logical: 10}}] },
    { text: "전쟁터에 있습니다. 어떻게 전장을 지휘하시겠습니까?", choices: [{text: "병사들의 사기를 높이는 연설을 한다.", effects: {linguistic: 10}}, {text: "병사들의 심리를 파악해 배치한다.", effects: {interpersonal: 10}}, {text: "전장의 지형을 분석해 최적의 전략을 짠다.", effects: {spatial: 10}}, {text: "자신이 직접 선봉에 서서 싸운다.", effects: {bodily: 10}}] },
    { text: "정체불명의 고대 장치를 마주했습니다. 어떻게 작동시키시겠습니까?", choices: [{text: "장치의 원리를 이해하려 노력한다.", effects: {logical: 10}}, {text: "장치의 외형을 분석해본다.", effects: {spatial: 10}}, {text: "장치를 조심스럽게 만져보며 작동 방식을 찾는다.", effects: {bodily: 10}}, {text: "장치에 대해 기록된 문서를 찾아본다.", effects: {linguistic: 10}}] },
    { text: "고대 숲에서 길을 잃었습니다. 어떻게 탈출하시겠습니까?", choices: [{text: "식물의 생태를 파악해 길을 찾는다.", effects: {naturalist: 10}}, {text: "자신의 직감을 믿고 나아간다.", effects: {intrapersonal: 10}}, {text: "나뭇가지로 길의 방향을 표시한다.", effects: {spatial: 10}}, {text: "숲의 동물들의 움직임을 따라간다.", effects: {interpersonal: 10}}] },
    { text: "고대 거인의 유적에서 보물을 발견했습니다. 거인의 유품 중 하나를 골라야 합니다.", choices: [{text: "거인의 노래가 새겨진 악기를 고른다.", effects: {musical: 10}}, {text: "거인의 일기가 담긴 책을 고른다.", effects: {linguistic: 10}}, {text: "거인이 만들던 조각상을 고른다.", effects: {spatial: 10}}, {text: "거인의 무기를 고른다.", effects: {bodily: 10}}] },
    { text: "고대 신전의 수호자가 되었습니다. 신전을 침범하려는 자들과 어떻게 대화하시겠습니까?", choices: [{text: "위엄 있는 목소리로 경고한다.", effects: {linguistic: 10}}, {text: "그들의 마음을 읽으려 노력한다.", effects: {intrapersonal: 10}}, {text: "그들의 행동 패턴을 분석한다.", effects: {logical: 10}}, {text: "침범자들을 설득하려 한다.", effects: {interpersonal: 10}}] },
    { text: "사악한 마법사가 숲을 오염시켰습니다. 어떻게 숲을 되살리시겠습니까?", choices: [{text: "마법사의 주문을 해독한다.", effects: {linguistic: 10}}, {text: "오염된 땅의 상태를 관찰한다.", effects: {naturalist: 10}}, {text: "숲의 동물들과 교감한다.", effects: {interpersonal: 10}}, {text: "몸을 움직여 오염을 정화하는 의식을 치른다.", effects: {bodily: 10}}] },
    { text: "고대 도시의 지붕을 뛰어넘어야 합니다. 어떻게 하시겠습니까?", choices: [{text: "도시의 구조를 파악해 최단거리를 뛴다.", effects: {spatial: 10}}, {text: "자신이 뛸 수 있는 거리를 계산한다.", effects: {logical: 10}}, {text: "가장 안정적인 착지 자세를 취한다.", effects: {bodily: 10}}, {text: "먼 거리를 이동하는 다른 생명체의 움직임을 관찰한다.", effects: {naturalist: 10}}] },
    { text: "고대 유적에 숨겨진 비밀을 담은 암호를 발견했습니다. 어떻게 암호를 해독하시겠습니까?", choices: [{text: "규칙을 찾아내려 논리적으로 접근한다.", effects: {logical: 10}}, {text: "직접 몸을 움직여 암호의 패턴을 따라해본다.", effects: {bodily: 10}}, {text: "암호에 사용된 언어의 특징을 떠올린다.", effects: {linguistic: 10}}, {text: "암호를 통해 얻을 수 있는 이득을 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "사막의 오아시스에 도착했습니다. 하지만 다른 모험가들과 물을 놓고 갈등이 생겼습니다. 어떻게 해결하시겠습니까?", choices: [{text: "물을 공평하게 분배할 규칙을 정한다.", effects: {logical: 10}}, {text: "모험가들을 설득하여 함께 문제를 해결하자고 제안한다.", effects: {interpersonal: 10}}, {text: "자신의 내면의 갈증을 참아낸다.", effects: {intrapersonal: 10}}, {text: "자신의 경험을 바탕으로 오아시스 물을 관리하는 방법을 설명한다.", effects: {naturalist: 10}}] },
    { text: "고대 예언서를 발견했습니다. 예언서는 음악처럼 흘러가는 문장들로 이루어져 있습니다. 어떻게 해석하시겠습니까?", choices: [{text: "예언서의 음률을 따라 소리 내어 읽는다.", effects: {musical: 10}}, {text: "예언서의 문맥을 분석하여 내용을 파악한다.", effects: {linguistic: 10}}, {text: "예언서를 통해 자신의 운명을 성찰한다.", effects: {intrapersonal: 10}}, {text: "예언서의 내용을 그림으로 그려본다.", effects: {spatial: 10}}] },
    { text: "고대 유적을 탐험하는 마지막 단계입니다. 마지막 관문을 통과하려면 당신의 내면의 빛을 보여주어야 합니다. 어떻게 하실 건가요?", choices: [{text: "지금까지의 여정을 기록한 시를 읊는다.", effects: {linguistic: 10}}, {text: "자신이 걸어온 길을 춤으로 표현한다.", effects: {bodily: 10}}, {text: "자신의 내면의 목소리에 집중해 진실을 말한다.", effects: {intrapersonal: 10}}, {text: "자신이 얻은 보물을 다른 사람들과 나눈다.", effects: {interpersonal: 10}}] }
];

const wizardQuests = [
    { text: "고대 마법서의 봉인을 풀어야 합니다. 어떤 방법으로 봉인을 해제하겠습니까?", choices: [{text: "봉인에 사용된 고대 언어를 해독한다.", effects: {linguistic: 10}}, {text: "봉인에 숨겨진 수학적 패턴을 찾아낸다.", effects: {logical: 10}}, {text: "봉인의 문양을 상상 속에서 재배열한다.", effects: {spatial: 10}}, {text: "봉인의 기운을 느껴 그 진동을 재현한다.", effects: {musical: 10}}] },
    { text: "신비로운 생명체의 약점을 알아내야 합니다. 어떻게 하시겠습니까?", choices: [{text: "생명체의 울음소리를 분석한다.", effects: {musical: 10}}, {text: "생명체의 행동 패턴을 관찰한다.", effects: {naturalist: 10}}, {text: "생명체의 마음을 읽어본다.", effects: {interpersonal: 10}}, {text: "생명체의 약점을 논리적으로 추론한다.", effects: {logical: 10}}] },
    { text: "고대 유적의 지도를 그려야 합니다. 어떻게 그리시겠습니까?", choices: [{text: "방의 크기와 거리를 정밀하게 측정해 그린다.", effects: {logical: 10}}, {text: "주변의 지형지물을 활용해 그린다.", effects: {spatial: 10}}, {text: "탐험 중 만난 다른 모험가들에게 정보를 얻어 그린다.", effects: {interpersonal: 10}}, {text: "내면의 감각을 이용해 그린다.", effects: {intrapersonal: 10}}] },
    { text: "오랜 시간 잠들어 있던 골렘을 깨워야 합니다. 어떤 방법으로 골렘을 깨우시겠습니까?", choices: [{text: "골렘에게 명령어를 말한다.", effects: {linguistic: 10}}, {text: "골렘의 핵심 부품을 찾아 손으로 만진다.", effects: {bodily: 10}}, {text: "골렘의 외형을 따라하며 움직여본다.", effects: {bodily: 10}}, {text: "골렘의 제작 과정을 상상한다.", effects: {spatial: 10}}] },
    { text: "신비로운 약초를 재배해야 합니다. 어떻게 재배하시겠습니까?", choices: [{text: "약초의 생태를 연구해 최적의 환경을 만든다.", effects: {naturalist: 10}}, {text: "약초의 성장 규칙을 계산한다.", effects: {logical: 10}}, {text: "약초에게 말을 걸며 키운다.", effects: {linguistic: 10}}, {text: "약초의 영혼과 교감하려 노력한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 거울을 통해 환영을 봐야 합니다. 어떤 방법으로 환영을 보시겠습니까?", choices: [{text: "거울에 비친 자신의 모습을 성찰한다.", effects: {intrapersonal: 10}}, {text: "거울의 마법적 에너지를 손으로 느낀다.", effects: {bodily: 10}}, {text: "거울에 비친 풍경을 그림으로 그린다.", effects: {spatial: 10}}, {text: "거울 속 환영에게 말을 건넨다.", effects: {linguistic: 10}}] },
    { text: "고대 유적에서 울리는 음악에 맞춰 춤을 추어야 합니다. 어떻게 하시겠습니까?", choices: [{text: "음악의 리듬에 맞춰 자연스럽게 몸을 맡긴다.", effects: {musical: 10}}, {text: "음악의 규칙을 분석해 춤의 패턴을 만든다.", effects: {logical: 10}}, {text: "춤을 통해 자신의 감정을 표현한다.", effects: {intrapersonal: 10}}, {text: "주변의 모험가들을 모아 함께 춤을 춘다.", effects: {interpersonal: 10}}] },
    { text: "사막의 모래바람을 멈춰야 합니다. 어떻게 하시겠습니까?", choices: [{text: "바람의 흐름을 분석해 마법을 사용한다.", effects: {naturalist: 10}}, {text: "바람의 소리를 이용해 마법 주문을 만든다.", effects: {musical: 10}}, {text: "바람의 속도를 계산해 마법을 사용한다.", effects: {logical: 10}}, {text: "바람의 방향을 예측해 마법을 사용한다.", effects: {spatial: 10}}] },
    { text: "어둠의 마법을 해제해야 합니다. 어떤 방법을 사용하시겠습니까?", choices: [{text: "마법 주문을 외운다.", effects: {linguistic: 10}}, {text: "마법의 기운을 느끼며 해제 의식을 진행한다.", effects: {bodily: 10}}, {text: "마법의 원리를 이해하려 노력한다.", effects: {logical: 10}}, {text: "자신의 내면의 힘을 이용한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 도시의 주민들과 교류해야 합니다. 어떻게 하시겠습니까?", choices: [{text: "그들의 문화와 역사를 공부한다.", effects: {linguistic: 10}}, {text: "그들과 함께 춤을 추고 노래를 부른다.", effects: {musical: 10}}, {text: "그들의 감정을 이해하려 노력한다.", effects: {interpersonal: 10}}, {text: "그들의 사회 구조를 분석한다.", effects: {logical: 10}}] },
    { text: "고대 문명의 건축물을 복구해야 합니다. 어떻게 복구하시겠습니까?", choices: [{text: "건축물의 구조를 파악해 모형을 만든다.", effects: {spatial: 10}}, {text: "건축물의 재료를 손으로 만져본다.", effects: {bodily: 10}}, {text: "건축물에 새겨진 문양을 해독한다.", effects: {linguistic: 10}}, {text: "자신의 내면의 감각을 이용해 복구한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적에서 정체불명의 식물을 발견했습니다. 어떻게 조사하시겠습니까?", choices: [{text: "식물의 생태를 관찰하고 기록한다.", effects: {naturalist: 10}}, {text: "식물의 성장 패턴을 분석한다.", effects: {logical: 10}}, {text: "식물의 외형을 그림으로 그린다.", effects: {spatial: 10}}, {text: "식물에게 말을 걸어본다.", effects: {linguistic: 10}}] },
    { text: "고대 유적의 거대한 퍼즐을 풀어야 합니다. 어떻게 퍼즐을 푸시겠습니까?", choices: [{text: "퍼즐의 모양을 파악해 조각들을 맞춘다.", effects: {spatial: 10}}, {text: "퍼즐의 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "퍼즐의 제작자의 의도를 상상한다.", effects: {intrapersonal: 10}}, {text: "퍼즐 조각들을 직접 만져보며 감각을 익힌다.", effects: {bodily: 10}}] },
    { text: "다른 모험가와 함께 유적을 탐험해야 합니다. 어떻게 협력하시겠습니까?", choices: [{text: "서로의 역할을 분담하고 계획을 세운다.", effects: {interpersonal: 10}}, {text: "상대방의 의견을 존중하며 대화한다.", effects: {linguistic: 10}}, {text: "상대방의 감정 상태를 파악한다.", effects: {intrapersonal: 10}}, {text: "서로의 동작을 맞춰 협동한다.", effects: {bodily: 10}}] },
    { text: "고대 숲에서 들리는 환상적인 음악을 따라가야 합니다. 어떻게 하시겠습니까?", choices: [{text: "음악의 멜로디와 리듬을 기록한다.", effects: {musical: 10}}, {text: "음악이 들리는 방향을 시각적으로 파악한다.", effects: {spatial: 10}}, {text: "음악의 의미를 추론한다.", effects: {linguistic: 10}}, {text: "음악에 대한 자신의 감상을 기록한다.", effects: {intrapersonal: 10}}] },
    { text: "거대한 폭포를 건너야 합니다. 어떻게 건너시겠습니까?", choices: [{text: "폭포의 물줄기를 관찰해 가장 안전한 길을 찾는다.", effects: {naturalist: 10}}, {text: "폭포의 힘을 직접 느끼며 건넌다.", effects: {bodily: 10}}, {text: "폭포의 물줄기를 보며 길을 예측한다.", effects: {spatial: 10}}, {text: "폭포를 건너기 위한 공학적 방법을 상상한다.", effects: {logical: 10}}] },
    { text: "고대 유적의 비밀을 담은 예언서를 해독해야 합니다. 어떻게 해독하시겠습니까?", choices: [{text: "예언서의 문맥을 논리적으로 분석한다.", effects: {logical: 10}}, {text: "예언서의 내용을 시로 읊어본다.", effects: {linguistic: 10}}, {text: "예언서의 내용을 그림으로 그려본다.", effects: {spatial: 10}}, {text: "예언서가 말하고자 하는 바를 내면의 목소리로 듣는다.", effects: {intrapersonal: 10}}] },
    { text: "고대 용의 심장을 찾아야 합니다. 용의 심장은 숨겨져 있습니다. 어떻게 찾으시겠습니까?", choices: [{text: "용의 마음을 읽어본다.", effects: {interpersonal: 10}}, {text: "용의 생태를 연구한다.", effects: {naturalist: 10}}, {text: "용의 비늘을 만져보며 단서를 찾는다.", effects: {bodily: 10}}, {text: "용의 울음소리를 분석한다.", effects: {musical: 10}}] },
    { text: "고대 도시에서 열리는 축제에 참여해야 합니다. 어떻게 참여하시겠습니까?", choices: [{text: "축제 참가자들의 마음을 읽어본다.", effects: {interpersonal: 10}}, {text: "축제 음악을 연주한다.", effects: {musical: 10}}, {text: "축제에 대한 기록을 찾아본다.", effects: {linguistic: 10}}, {text: "축제 참가자들의 행동을 관찰한다.", effects: {naturalist: 10}}] },
    { text: "고대 유적에서 당신의 지능을 시험하는 마지막 시험에 직면했습니다. 당신은 어떻게 이 시험을 통과하시겠습니까?", choices: [{text: "자신의 강점 지능을 분석해 문제를 해결한다.", effects: {logical: 10}}, {text: "자신의 내면의 힘을 사용한다.", effects: {intrapersonal: 10}}, {text: "문제를 다른 사람들과 함께 해결한다.", effects: {interpersonal: 10}}, {text: "자신이 쌓아온 경험을 토대로 문제를 해결한다.", effects: {linguistic: 10}}] }
];

const thiefQuests = [
    { text: "고대 신전의 비밀 통로를 찾아야 합니다. 어떻게 찾으시겠습니까?", choices: [{text: "통로의 구조를 머릿속으로 그려본다.", effects: {spatial: 10}}, {text: "통로의 바닥에 남은 발자국을 분석한다.", effects: {logical: 10}}, {text: "통로의 벽을 손으로 만져보며 빈 공간을 찾는다.", effects: {bodily: 10}}, {text: "통로에 대한 소문을 모아 분석한다.", effects: {interpersonal: 10}}] },
    { text: "고대 도시의 밤거리를 은밀하게 이동해야 합니다. 어떻게 이동하시겠습니까?", choices: [{text: "건물과 건물을 뛰어다니며 이동한다.", effects: {bodily: 10}}, {text: "도시의 지형을 머릿속에 기억한다.", effects: {spatial: 10}}, {text: "도시의 소리를 분석해 사람들의 위치를 파악한다.", effects: {musical: 10}}, {text: "도시의 규칙을 분석해 순찰 경로를 예측한다.", effects: {logical: 10}}] },
    { text: "고대 유물 상자를 열어야 합니다. 상자에는 복잡한 자물쇠가 걸려 있습니다. 어떻게 여시겠습니까?", choices: [{text: "자물쇠의 구조를 분석해 해제한다.", effects: {logical: 10}}, {text: "자물쇠에 귀를 대고 소리를 들으며 해제한다.", effects: {musical: 10}}, {text: "자물쇠의 문양을 보며 해제 방법을 상상한다.", effects: {spatial: 10}}, {text: "자물쇠를 직접 만져보며 작동 방식을 파악한다.", effects: {bodily: 10}}] },
    { text: "낯선 동굴에서 길을 잃었습니다. 어떻게 탈출하시겠습니까?", choices: [{text: "동굴의 바람 소리를 듣고 길을 찾는다.", effects: {musical: 10}}, {text: "바닥의 흙과 돌을 분석해 방향을 추론한다.", effects: {naturalist: 10}}, {text: "자신의 내면의 목소리에 집중해 길을 찾는다.", effects: {intrapersonal: 10}}, {text: "동굴의 지도를 머릿속에 그린다.", effects: {spatial: 10}}] },
    { text: "고대 유적에서 다른 도적과 경쟁해야 합니다. 어떻게 경쟁자를 제압하시겠습니까?", choices: [{text: "경쟁자의 심리를 파악해 약점을 찾는다.", effects: {interpersonal: 10}}, {text: "가장 효율적인 경로를 계산한다.", effects: {logical: 10}}, {text: "경쟁자의 언행을 분석해 속임수를 간파한다.", effects: {linguistic: 10}}, {text: "경쟁자에게 정면으로 도전한다.", effects: {bodily: 10}}] },
    { text: "고대 기록을 훔쳐야 합니다. 어떻게 훔치시겠습니까?", choices: [{text: "기록의 내용을 분석해 중요한 부분만 가져간다.", effects: {linguistic: 10}}, {text: "기록이 보관된 장소의 구조를 파악한다.", effects: {spatial: 10}}, {text: "기록을 지키는 경비병의 움직임을 분석한다.", effects: {logical: 10}}, {text: "기록을 훔치려는 자신의 의도를 성찰한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적의 함정을 해체해야 합니다. 어떻게 해체하시겠습니까?", choices: [{text: "함정의 구조를 파악해 해체한다.", effects: {spatial: 10}}, {text: "함정의 작동 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "함정의 미세한 움직임을 몸으로 느낀다.", effects: {bodily: 10}}, {text: "함정을 만든 사람의 의도를 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 도시에 잠입해야 합니다. 어떻게 잠입하시겠습니까?", choices: [{text: "가장 인적이 드문 길을 찾는다.", effects: {interpersonal: 10}}, {text: "주변 환경과 조화를 이루어 눈에 띄지 않게 이동한다.", effects: {naturalist: 10}}, {text: "주민들의 대화를 엿들어 중요한 정보를 얻는다.", effects: {linguistic: 10}}, {text: "자신이 잠입해야 하는 이유를 되새긴다.", effects: {intrapersonal: 10}}] },
    { text: "고대 신전의 보물을 훔쳐야 합니다. 보물은 마법의 감옥에 갇혀 있습니다. 어떻게 훔치시겠습니까?", choices: [{text: "감옥의 마법 주문을 해독한다.", effects: {linguistic: 10}}, {text: "감옥의 마법적 패턴을 분석한다.", effects: {logical: 10}}, {text: "감옥의 에너지를 손으로 느껴본다.", effects: {bodily: 10}}, {text: "감옥의 소리를 듣고 약점을 찾는다.", effects: {musical: 10}}] },
    { text: "고대 숲에서 쫓기고 있습니다. 어떻게 따돌리시겠습니까?", choices: [{text: "숲의 지형을 이용해 숨는다.", effects: {spatial: 10}}, {text: "숲의 동물들의 울음소리를 따라한다.", effects: {naturalist: 10}}, {text: "추격자의 심리를 파악해 혼란을 준다.", effects: {interpersonal: 10}}, {text: "가장 효과적인 탈출 경로를 계산한다.", effects: {logical: 10}}] },
    { text: "고대 유적의 함정 퍼즐을 풀어야 합니다. 어떻게 퍼즐을 푸시겠습니까?", choices: [{text: "퍼즐의 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "퍼즐의 모양을 손으로 만져보며 해법을 찾는다.", effects: {bodily: 10}}, {text: "퍼즐에 대한 기록을 찾아본다.", effects: {linguistic: 10}}, {text: "퍼즐의 제작자의 의도를 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 도시에서 도망쳐야 합니다. 어떻게 도망치시겠습니까?", choices: [{text: "가장 인적이 드문 길을 찾아 이동한다.", effects: {interpersonal: 10}}, {text: "도시에 사는 동물들의 움직임을 따라간다.", effects: {naturalist: 10}}, {text: "자신의 내면의 힘을 사용해 도망친다.", effects: {intrapersonal: 10}}, {text: "가장 효율적인 도주 경로를 계산한다.", effects: {logical: 10}}] },
    { text: "고대 신전의 비밀 방에 들어갔습니다. 방의 벽에 그림이 그려져 있습니다. 어떻게 해석하시겠습니까?", choices: [{text: "그림의 상징을 분석한다.", effects: {spatial: 10}}, {text: "그림의 내용을 시로 읊어본다.", effects: {linguistic: 10}}, {text: "그림이 담고 있는 감정을 느껴본다.", effects: {intrapersonal: 10}}, {text: "그림을 통해 방의 구조를 파악한다.", effects: {spatial: 10}}] },
    { text: "고대 숲에서 들리는 소리를 분석해 길을 찾아야 합니다. 어떻게 분석하시겠습니까?", choices: [{text: "소리의 음높이와 리듬을 기록한다.", effects: {musical: 10}}, {text: "소리의 근원을 논리적으로 추론한다.", effects: {logical: 10}}, {text: "소리의 주인을 상상한다.", effects: {interpersonal: 10}}, {text: "소리의 감정을 느껴본다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적의 보물을 훔치기 위해 다른 도적과 팀을 맺었습니다. 어떻게 협력하시겠습니까?", choices: [{text: "각자의 역할을 나누고 계획을 세운다.", effects: {interpersonal: 10}}, {text: "자신의 강점을 살려 임무를 수행한다.", effects: {bodily: 10}}, {text: "상대방의 약점을 보완해준다.", effects: {intrapersonal: 10}}, {text: "보물에 대한 정보를 공유한다.", effects: {linguistic: 10}}] },
    { text: "고대 도시의 지붕을 뛰어넘어야 합니다. 어떻게 하시겠습니까?", choices: [{text: "건물 사이의 거리를 계산한다.", effects: {logical: 10}}, {text: "지붕의 구조를 머릿속에 그린다.", effects: {spatial: 10}}, {text: "가장 효율적인 착지 자세를 취한다.", effects: {bodily: 10}}, {text: "지붕을 뛰어넘는 다른 동물의 움직임을 관찰한다.", effects: {naturalist: 10}}] },
    { text: "고대 유적의 거대한 퍼즐을 풀어야 합니다. 어떻게 퍼즐을 푸시겠습니까?", choices: [{text: "퍼즐의 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "퍼즐의 모양을 손으로 만져보며 해법을 찾는다.", effects: {bodily: 10}}, {text: "퍼즐에 대한 기록을 찾아본다.", effects: {linguistic: 10}}, {text: "퍼즐의 제작자의 의도를 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "사막의 오아시스에 도착했습니다. 하지만 다른 모험가들과 물을 놓고 갈등이 생겼습니다. 어떻게 해결하시겠습니까?", choices: [{text: "물을 공평하게 분배할 규칙을 정한다.", effects: {logical: 10}}, {text: "모험가들을 설득하여 함께 문제를 해결하자고 제안한다.", effects: {interpersonal: 10}}, {text: "자신의 내면의 갈증을 참아낸다.", effects: {intrapersonal: 10}}, {text: "자신의 경험을 바탕으로 오아시스 물을 관리하는 방법을 설명한다.", effects: {naturalist: 10}}] },
    { text: "고대 예언서를 발견했습니다. 예언서는 음악처럼 흘러가는 문장들로 이루어져 있습니다. 어떻게 해석하시겠습니까?", choices: [{text: "예언서의 음률을 따라 소리 내어 읽는다.", effects: {musical: 10}}, {text: "예언서의 문맥을 분석하여 내용을 파악한다.", effects: {linguistic: 10}}, {text: "예언서를 통해 자신의 운명을 성찰한다.", effects: {intrapersonal: 10}}, {text: "예언서의 내용을 그림으로 그려본다.", effects: {spatial: 10}}] },
    { text: "고대 유적을 탐험하는 마지막 단계입니다. 마지막 관문을 통과하려면 당신의 내면의 빛을 보여주어야 합니다. 어떻게 하실 건가요?", choices: [{text: "지금까지의 여정을 기록한 시를 읊는다.", effects: {linguistic: 10}}, {text: "자신이 걸어온 길을 춤으로 표현한다.", effects: {bodily: 10}}, {text: "자신의 내면의 목소리에 집중해 진실을 말한다.", effects: {intrapersonal: 10}}, {text: "자신이 얻은 보물을 다른 사람들과 나눈다.", effects: {interpersonal: 10}}] }
];

const priestQuests = [
    { text: "고대 신전의 수호자가 되었습니다. 신전을 침범하려는 자들과 어떻게 대화하시겠습니까?", choices: [{text: "그들의 마음을 읽으려 노력한다.", effects: {interpersonal: 10}}, {text: "그들의 행동 패턴을 분석한다.", effects: {logical: 10}}, {text: "침범자들을 설득하려 한다.", effects: {interpersonal: 10}}, {text: "위엄 있는 목소리로 경고한다.", effects: {linguistic: 10}}] },
    { text: "사악한 마법사가 숲을 오염시켰습니다. 어떻게 숲을 되살리시겠습니까?", choices: [{text: "오염된 땅의 상태를 관찰한다.", effects: {naturalist: 10}}, {text: "마법사의 주문을 해독한다.", effects: {linguistic: 10}}, {text: "숲의 동물들과 교감한다.", effects: {interpersonal: 10}}, {text: "몸을 움직여 오염을 정화하는 의식을 치른다.", effects: {bodily: 10}}] },
    { text: "고대 유적에서 들리는 슬픈 음악을 치유해야 합니다. 어떻게 하시겠습니까?", choices: [{text: "음악의 멜로디와 리듬을 분석한다.", effects: {musical: 10}}, {text: "음악의 슬픔을 느끼며 공감한다.", effects: {intrapersonal: 10}}, {text: "음악을 따라가 근원을 찾아본다.", effects: {spatial: 10}}, {text: "주변의 사람들과 함께 음악을 연주해본다.", effects: {interpersonal: 10}}] },
    { text: "고대 도시에서 병든 사람들을 치료해야 합니다. 어떻게 치료하시겠습니까?", choices: [{text: "병의 원인을 논리적으로 분석한다.", effects: {logical: 10}}, {text: "병든 사람들의 마음을 위로한다.", effects: {interpersonal: 10}}, {text: "약초의 효능을 찾아본다.", effects: {naturalist: 10}}, {text: "자신의 내면의 힘을 이용해 치유한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적에서 정체불명의 식물을 발견했습니다. 어떻게 조사하시겠습니까?", choices: [{text: "식물의 생태를 관찰하고 기록한다.", effects: {naturalist: 10}}, {text: "식물의 성장 패턴을 분석한다.", effects: {logical: 10}}, {text: "식물의 외형을 그림으로 그린다.", effects: {spatial: 10}}, {text: "식물에게 말을 걸어본다.", effects: {linguistic: 10}}] },
    { text: "고대 유적에서 길을 잃은 사람을 만났습니다. 어떻게 도와주시겠습니까?", choices: [{text: "그의 말을 경청하고 길을 찾아준다.", effects: {interpersonal: 10}}, {text: "지도의 지형을 분석해 길을 찾아준다.", effects: {spatial: 10}}, {text: "자신의 직감을 믿고 길을 안내한다.", effects: {intrapersonal: 10}}, {text: "주변의 식물과 동물을 이용해 길을 찾는다.", effects: {naturalist: 10}}] },
    { text: "고대 유적의 비밀을 담은 예언서를 해독해야 합니다. 어떻게 해독하시겠습니까?", choices: [{text: "예언서의 문맥을 논리적으로 분석한다.", effects: {logical: 10}}, {text: "예언서의 내용을 시로 읊어본다.", effects: {linguistic: 10}}, {text: "예언서의 내용을 그림으로 그려본다.", effects: {spatial: 10}}, {text: "예언서가 말하고자 하는 바를 내면의 목소리로 듣는다.", effects: {intrapersonal: 10}}] },
    { text: "고대 폭포의 아름다움을 그림으로 담아야 합니다. 어떻게 그리시겠습니까?", choices: [{text: "폭포의 구조를 정확하게 묘사한다.", effects: {spatial: 10}}, {text: "폭포의 소리를 그림으로 표현한다.", effects: {musical: 10}}, {text: "폭포의 물줄기를 직접 만져보며 그림을 그린다.", effects: {bodily: 10}}, {text: "폭포를 보며 자신의 감정을 그림에 담는다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적의 거대한 퍼즐을 풀어야 합니다. 어떻게 퍼즐을 푸시겠습니까?", choices: [{text: "퍼즐의 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "퍼즐의 모양을 손으로 만져보며 해법을 찾는다.", effects: {bodily: 10}}, {text: "퍼즐에 대한 기록을 찾아본다.", effects: {linguistic: 10}}, {text: "퍼즐의 제작자의 의도를 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "고대 도시에서 도망쳐야 합니다. 어떻게 도망치시겠습니까?", choices: [{text: "가장 인적이 드문 길을 찾아 이동한다.", effects: {interpersonal: 10}}, {text: "도시에 사는 동물들의 움직임을 따라간다.", effects: {naturalist: 10}}, {text: "자신의 내면의 힘을 사용해 도망친다.", effects: {intrapersonal: 10}}, {text: "가장 효율적인 도주 경로를 계산한다.", effects: {logical: 10}}] },
    { text: "고대 숲에서 들리는 소리를 분석해 길을 찾아야 합니다. 어떻게 분석하시겠습니까?", choices: [{text: "소리의 음높이와 리듬을 기록한다.", effects: {musical: 10}}, {text: "소리의 근원을 논리적으로 추론한다.", effects: {logical: 10}}, {text: "소리의 주인을 상상한다.", effects: {interpersonal: 10}}, {text: "소리의 감정을 느껴본다.", effects: {intrapersonal: 10}}] },
    { text: "고대 유적의 보물을 훔치기 위해 다른 도적과 팀을 맺었습니다. 어떻게 협력하시겠습니까?", choices: [{text: "각자의 역할을 나누고 계획을 세운다.", effects: {interpersonal: 10}}, {text: "자신의 강점을 살려 임무를 수행한다.", effects: {bodily: 10}}, {text: "상대방의 약점을 보완해준다.", effects: {intrapersonal: 10}}, {text: "보물에 대한 정보를 공유한다.", effects: {linguistic: 10}}] },
    { text: "고대 도시의 지붕을 뛰어넘어야 합니다. 어떻게 하시겠습니까?", choices: [{text: "건물 사이의 거리를 계산한다.", effects: {logical: 10}}, {text: "지붕의 구조를 머릿속에 그린다.", effects: {spatial: 10}}, {text: "가장 효율적인 착지 자세를 취한다.", effects: {bodily: 10}}, {text: "지붕을 뛰어넘는 다른 동물의 움직임을 관찰한다.", effects: {naturalist: 10}}] },
    { text: "고대 유적의 거대한 퍼즐을 풀어야 합니다. 어떻게 퍼즐을 푸시겠습니까?", choices: [{text: "퍼즐의 원리를 논리적으로 추론한다.", effects: {logical: 10}}, {text: "퍼즐의 모양을 손으로 만져보며 해법을 찾는다.", effects: {bodily: 10}}, {text: "퍼즐에 대한 기록을 찾아본다.", effects: {linguistic: 10}}, {text: "퍼즐의 제작자의 의도를 상상한다.", effects: {intrapersonal: 10}}] },
    { text: "사막의 오아시스에 도착했습니다. 하지만 다른 모험가들과 물을 놓고 갈등이 생겼습니다. 어떻게 해결하시겠습니까?", choices: [{text: "물을 공평하게 분배할 규칙을 정한다.", effects: {logical: 10}}, {text: "모험가들을 설득하여 함께 문제를 해결하자고 제안한다.", effects: {interpersonal: 10}}, {text: "자신의 내면의 갈증을 참아낸다.", effects: {intrapersonal: 10}}, {text: "자신의 경험을 바탕으로 오아시스 물을 관리하는 방법을 설명한다.", effects: {naturalist: 10}}] },
    { text: "고대 예언서를 발견했습니다. 예언서는 음악처럼 흘러가는 문장들로 이루어져 있습니다. 어떻게 해석하시겠습니까?", choices: [{text: "예언서의 음률을 따라 소리 내어 읽는다.", effects: {musical: 10}}, {text: "예언서의 문맥을 분석하여 내용을 파악한다.", effects: {linguistic: 10}}, {text: "예언서를 통해 자신의 운명을 성찰한다.", effects: {intrapersonal: 10}}, {text: "예언서의 내용을 그림으로 그려본다.", effects: {spatial: 10}}] },
    { text: "고대 유적을 탐험하는 마지막 단계입니다. 마지막 관문을 통과하려면 당신의 내면의 빛을 보여주어야 합니다. 어떻게 하실 건가요?", choices: [{text: "지금까지의 여정을 기록한 시를 읊는다.", effects: {linguistic: 10}}, {text: "자신이 걸어온 길을 춤으로 표현한다.", effects: {bodily: 10}}, {text: "자신의 내면의 목소리에 집중해 진실을 말한다.", effects: {intrapersonal: 10}}, {text: "자신이 얻은 보물을 다른 사람들과 나눈다.", effects: {interpersonal: 10}}] }
];


// 각 캐릭터별 퀘스트 목록
const allQuests = {
    "전사": warriorQuests,
    "마법사": wizardQuests,
    "도적": thiefQuests,
    "성직자": priestQuests
};

function startGame() {
    player.name = el('playerName').value || "모험가";
    player.clazz = el('playerClass').value;
    
    // 캐릭터별 퀘스트 로드
    player.quests = allQuests[player.clazz] || warriorQuests;
    currentQuestIndex = 0;
    
    el('start-screen').style.display = 'none';
    el('game-area').style.display = 'block';
    el('stats-panel').style.display = 'block';
    
    // 점수 초기화
    scores = {
        linguistic: 0,
        logical: 0,
        spatial: 0,
        bodily: 0,
        musical: 0,
        interpersonal: 0,
        intrapersonal: 0,
        naturalist: 0
    };
    
    renderStats();
    nextScene();
}

function nextScene() {
    // 퀘스트가 모두 끝났는지 확인
    if (currentQuestIndex >= totalQuests) {
        showResult();
        return;
    }
    
    // 퀘스트 번호 업데이트
    el('quest-counter').innerText = `퀘스트 ${currentQuestIndex + 1} / ${totalQuests}`;

    const quest = player.quests[currentQuestIndex];
    
    el('story-text').innerText = quest.text;
    const choicesDiv = el('choice-buttons');
    choicesDiv.innerHTML = '';
    
    quest.choices.forEach(choice => {
        const button = document.createElement('button');
        button.innerText = choice.text;
        button.onclick = () => {
            // 선택지 효과 적용
            if (choice.effects) {
                for (const key in choice.effects) {
                    scores[key] = (scores[key] || 0) + choice.effects[key];
                }
            }
            currentQuestIndex++;
            renderStats();
            nextScene();
        };
        choicesDiv.appendChild(button);
    });
}

function renderStats() {
    const root = el('stats-container');
    root.innerHTML = '';
    const mapNames = {linguistic:'언어 지능',logical:'논리-수학 지능',spatial:'공간 지능',bodily:'신체-운동 지능',musical:'음악 지능',interpersonal:'대인관계 지능',intrapersonal:'자기이해 지능',naturalist:'자연친화 지능'};
    Object.keys(scores).forEach(k => {
        const score = Math.min(100, Math.max(0, scores[k]));
        const box = document.createElement('div');
        box.className = 'stat';
        box.innerHTML = `
            <div style="font-weight:bold;color:var(--gold)">${mapNames[k]}</div>
            <div class="bar"><div class="bar-inner" style="width:${score}%"></div></div>
        `;
        root.appendChild(box);
    });
}

function showResult(){
    el('game-area').style.display = 'none';
    el('stats-panel').style.display = 'none';
    el('result-area').style.display = 'block';

    const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
    const top1 = entries[0][0];
    const top2 = entries[1][0];
    const mapNames = {linguistic:'언어 지능',logical:'논리-수학 지능',spatial:'공간 지능',bodily:'신체-운동 지능',musical:'음악 지능',interpersonal:'대인관계 지능',intrapersonal:'자기이해 지능',naturalist:'자연친화 지능'};
    
    const resultHTML = `
        <h3>📜 모험의 결과</h3>
        <p><strong>${player.name}</strong>(${player.clazz}) 모험가는 <strong>${mapNames[top1]}</strong>와 <strong>${mapNames[top2]}</strong> 능력치가 가장 뛰어난 것으로 나타났습니다.</p>
        <p>당신의 여정은 고대 유적의 비밀을 풀기 위한 다양한 시도와 도전을 통해 당신의 다중지능 잠재력을 탐색한 값진 경험이었습니다.</p>
        <img src="https://firebasestorage.googleapis.com/v0/b/gtemp-a8599.appspot.com/o/image_6b997f.png?alt=media&token=c1935634-110f-4f27-a068-1cf01ddf4c02" alt="모험 결과 이미지" class="result-image">
        <button onclick="window.location.reload()">다시 시작하기</button>
    `;

    el('result-area').innerHTML = resultHTML;
}

</script>
</body>
</html>
